{% extends 'base.html' %}
{% block content %}
{% load bootstrap4 %}

{% for proj in projects %}
{{proj.name}}
<div class="card" style="width: 18rem;">
    <img class="card-img-top" src="{{proj.project_image.url}}" alt="Card image cap">
    <div class="card-body">
      <h5 class="card-title">{{proj.project_title}}</h5>
      <p class="card-text">{{proj.project_description}}</p>
      <a href="{{proj.project_link}}" class="card-link">Open</a>

      <form action="/review/{{proj.id}}" method="post" enctype="multipart/form-data">
        {%csrf_token%}
    
        {% bootstrap_form review %}
        <input type="submit" class="btn btn-success btn-lg" value="Post">
      </form>
    </div>
  </div>
  <br>
  <br>
<script>
const ratings = {
  hotel_a : 2.8,
  hotel_b : 3.3,
  hotel_c : 1.9,
  hotel_d : 4.3,
  hotel_e : 4.74
};

// total number of stars
const starTotal = 5;

for(const rating in ratings) {  
  const starPercentage = (ratings[rating] / starTotal) * 100;
  const starPercentageRounded = `${(Math.round(starPercentage / 10) * 10)}%`;
  document.querySelector(`.${rating} .stars-inner`).style.width = starPercentageRounded; 
}</script>
{% endfor %}
{% endblock %} 